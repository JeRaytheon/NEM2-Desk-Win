(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9898b288"],{3879:function(t,e,o){"use strict";var a=o("eae9"),n=o.n(a);n.a},"79a3":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"mnemonic"},[o("div",{staticClass:"describle"},[t._v(t._s(t.$t("mnemonic_describle")))]),o("ul",[o("li",[t._v("\n        "+t._s(t.$t("input_mnemonic"))+"\n        "),o("div",{staticClass:"tips"},[t._v("\n          "+t._s(t.$t("enter_12_words_please_pay_attention_to_the_order_separated_by_a_space_between_each_word"))+"\n        ")]),o("div",{staticClass:"gray_content textarea"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.mnemonic,expression:"form.mnemonic"}],staticClass:"absolute",domProps:{value:t.form.mnemonic},on:{input:function(e){e.target.composing||t.$set(t.form,"mnemonic",e.target.value)}}})])]),o("li",[t._v("\n        "+t._s(t.$t("choose_network"))+"\n        "),o("div",{staticClass:"gray_content"},[o("Select",{attrs:{placeholder:t.$t("choose_network")},model:{value:t.form.networkType,callback:function(e){t.$set(t.form,"networkType",e)},expression:"form.networkType"}},t._l(t.NetworkTypeList,function(e){return o("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1)]),o("li",[t._v("\n        "+t._s(t.$t("set_the_wallet_name"))+"\n        "),o("div",{staticClass:"gray_content"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.walletName,expression:"form.walletName"}],staticClass:"absolute",attrs:{type:"text",placeholder:t.$t("set_the_wallet_name")},domProps:{value:t.form.walletName},on:{input:function(e){e.target.composing||t.$set(t.form,"walletName",e.target.value)}}})])]),o("li",[t._v("\n        "+t._s(t.$t("set_password"))+"\n        "),o("div",{staticClass:"tips"},[t._v("\n          "+t._s(t.$t("mnemonic_describle_tips"))+"\n        ")]),o("div",{staticClass:"gray_content"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"absolute",attrs:{type:"password",placeholder:t.$t("please_set_your_password")},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})])]),o("li",[t._v("\n        "+t._s(t.$t("confirm_password"))+"\n        "),o("div",{staticClass:"gray_content"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.checkPW,expression:"form.checkPW"}],staticClass:"absolute",attrs:{type:"password",placeholder:t.$t("please_enter_your_wallet_password_again")},domProps:{value:t.form.checkPW},on:{input:function(e){e.target.composing||t.$set(t.form,"checkPW",e.target.value)}}})])])])]),o("div",{staticClass:"bottom_button "},[o("span",{staticClass:"back left",on:{click:t.toBack}},[t._v(" "+t._s(t.$t("back")))]),o("span",{staticClass:"import right",on:{click:t.importWallet}},[t._v(t._s(t.$t("import")))])])])},n=[],r=o("7618"),s=(o("7f7f"),o("6b54"),o("34ef"),o("28a5"),o("9ab4")),i=o("60a3"),c=o("c71b"),l=o("db6a"),m=o("ca00"),u=o("b893"),p=o("65cd"),d=o("47b0"),f=o("cb1c"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.form={mnemonic:"",networkType:0,walletName:"",password:"",checkPW:""},e.NetworkTypeList=[{value:l["NetworkType"].MIJIN_TEST,label:"MIJIN_TEST"},{value:l["NetworkType"].MAIN_NET,label:"MAIN_NET"},{value:l["NetworkType"].TEST_NET,label:"TEST_NET"},{value:l["NetworkType"].MIJIN,label:"MIJIN"}],e.account={},e}return s["c"](e,t),e.prototype.importWallet=function(){this.checkMnemonic()&&this.checkImport()&&this.loginWallet(this.account)},e.prototype.checkImport=function(){return 0==this.form.networkType?(this.$Message.error(f["a"].PLEASE_SWITCH_NETWORK),!1):this.form.walletName&&""!=this.form.walletName?this.form.password&&""!=this.form.password?this.form.password===this.form.checkPW||(this.$Message.error(f["a"].INCONSISTENT_PASSWORD_ERROR),!1):(this.$Message.error(f["a"].PASSWORD_SETTING_INPUT_ERROR),!1):(this.$Message.error(f["a"].WALLET_NAME_INPUT_ERROR),!1)},e.prototype.checkMnemonic=function(){try{if(!this.form.mnemonic||""===this.form.mnemonic||12!=this.form.mnemonic.split(" ").length)return this.$Message.error(f["a"].MNENOMIC_INPUT_ERROR),!1;var t=this.createAccount(this.form.mnemonic);return this.$store.commit("SET_ACCOUNT",t),this.account=t,!0}catch(e){return this.$Message.error(f["a"].MNENOMIC_INPUT_ERROR),!1}},e.prototype.createAccount=function(t){var e=new c["MnemonicPassPhrase"](t),o=e.toSeed(),a=c["ExtendedKey"].createFromSeed(this.buf2hex(o)),n=new c["Wallet"](a),r=n.getAccount();return r},e.prototype.buf2hex=function(t){for(var e=new Uint8Array(t),o=[],a=0;a<e.length;a++){var n=e[a].toString(16),r=("00"+n).slice(-2);o.push(r)}return o.join("")},e.prototype.loginWallet=function(t){var e=this,o=this.form.walletName,a=this.form.networkType;e.setUserDefault(o,t,a)},e.prototype.setUserDefault=function(t,e,o){var a=this,n=this,r=this.$store.state.app.walletList,i="walletItem_bg_"+r.length%3;p["a"].getWallet({name:t,networkType:o,privateKey:e.privateKey}).then(function(t){return s["a"](a,void 0,void 0,function(){var o,a,r;return s["d"](this,function(s){switch(s.label){case 0:return o={name:t.result.wallet.name,address:t.result.wallet.address["address"],networkType:t.result.wallet.address["networkType"],privateKey:t.result.privateKey,publicKey:e.publicKey,publicAccount:e.publicAccount,mosaics:[],wallet:t.result.wallet,password:t.result.password,balance:0,style:i},[4,n.getMosaicList(o).then(function(t){o=t})];case 1:return s.sent(),[4,n.getMultisigAccount(o).then(function(t){o=t})];case 2:return s.sent(),n.$store.commit("SET_WALLET",o),a=l["Crypto"].encrypt(t.result.privateKey,n.form["password"]),r=l["Crypto"].encrypt(Object(u["d"])(this.form.mnemonic),n.form["password"]),n.localKey(o,a,r),this.toWalletDetails(),[2]}})})})},e.prototype.getMosaicList=function(t){return s["a"](this,void 0,void 0,function(){var e,o,a,n,r=this;return s["d"](this,function(i){switch(i.label){case 0:return e=t,o=this.$store.state.account.node,a=this.$store.state.account.currentXEM2,n=this.$store.state.account.currentXEM1,[4,d["a"].getAccountInfo({node:o,address:e.address}).then(function(t){return s["a"](r,void 0,void 0,function(){return s["d"](this,function(o){switch(o.label){case 0:return[4,t.result.accountInfo.subscribe(function(t){var o=t.mosaics;o.map(function(t){t.hex=t.id.toHex(),t.id.toHex()!=a&&t.id.toHex()!=n||(e.balance=t.amount.compact()/1e6)}),e.mosaics=o},function(){e.balance=0})];case 1:return o.sent(),[2]}})})})];case 1:return i.sent(),[2,e]}})})},e.prototype.getMultisigAccount=function(t){return s["a"](this,void 0,void 0,function(){var e,o;return s["d"](this,function(a){switch(a.label){case 0:return e=t,o=this.$store.state.account.node,[4,d["a"].getMultisigAccountInfo({node:o,address:e.address}).then(function(t){"object"==Object(r["a"])(t.result.multisigAccountInfo)&&t.result.multisigAccountInfo["subscribe"](function(t){e.isMultisig=!0},function(){console.log("not multisigAccount"),e.isMultisig=!1})})];case 1:return a.sent(),[2,e]}})})},e.prototype.localKey=function(t,e,o){var a=[],n=!1;try{a=JSON.parse(Object(m["g"])("wallets"))}catch(c){a=[]}var r={name:t.name,ciphertext:e.ciphertext,iv:e.iv,networkType:t.networkType,address:t.address,publicKey:t.publicKey,mnemonicEnCodeObj:o},s=this.$store.state.account.wallet;for(var i in s=Object.assign(s,r),this.$store.commit("SET_WALLET",s),a)a[i].address===t.address&&(a[i]=r,n=!0);n||a.unshift(r),Object(m["h"])("wallets",JSON.stringify(a))},e.prototype.toWalletDetails=function(){this.$Notice.success({title:""+this["$t"]("Import_mnemonic_operations"),desc:this["$t"]("Imported_wallet_successfully")+""}),this.$store.commit("SET_HAS_WALLET",!0),this.$emit("toWalletDetails")},e.prototype.toBack=function(){this.$emit("closeImport")},e=s["b"]([i["a"]],e),e}(i["c"]),_=h,v=_,g=(o("3879"),o("2877")),w=Object(g["a"])(v,a,n,!1,null,"3c7af158",null);e["default"]=w.exports},deeb:function(t,e,o){e=t.exports=o("2350")(!1),e.push([t.i,".mnemonic[data-v-3c7af158]{padding:0 .19rem .1rem .19rem}.mnemonic .describle[data-v-3c7af158]{position:relative;right:.19rem;font-size:.16rem;font-weight:400;color:#666;padding-bottom:.2rem}.mnemonic li[data-v-3c7af158]{list-style:disc;font-size:.16rem;font-weight:400;color:#222;padding-bottom:.3rem}.mnemonic .tips[data-v-3c7af158]{font-size:.14rem;font-weight:400;color:#999;margin-top:.1rem;position:relative;right:.25rem}.mnemonic .gray_content.textarea[data-v-3c7af158]{height:.9rem}.mnemonic .gray_content.textarea textarea[data-v-3c7af158]{padding:.1rem .3rem}.mnemonic .gray_content[data-v-3c7af158]{right:.25rem;margin-top:.1rem;width:6.8rem;height:.45rem;border:.01rem solid #ccc;border-radius:.04rem;position:relative;padding:.08rem 0}.mnemonic .gray_content textarea[data-v-3c7af158]{width:99%;height:95%;font-size:.14rem}.mnemonic .gray_content textarea[data-v-3c7af158]::-webkit-input-placeholder{color:#ccc}.mnemonic .gray_content textarea[data-v-3c7af158]::-moz-placeholder{color:#ccc}.mnemonic .gray_content textarea[data-v-3c7af158]:-ms-input-placeholder{color:#ccc}.mnemonic .gray_content textarea[data-v-3c7af158]::-ms-input-placeholder{color:#ccc}.mnemonic .gray_content textarea[data-v-3c7af158]::placeholder{color:#ccc}.mnemonic .gray_content input[data-v-3c7af158]{width:6.5rem;height:.4rem;border:none;padding-left:.2rem;font-size:.14rem}.mnemonic .gray_content input[data-v-3c7af158]::-webkit-input-placeholder{color:#999}.mnemonic .gray_content input[data-v-3c7af158]::-moz-placeholder{color:#999}.mnemonic .gray_content input[data-v-3c7af158]:-ms-input-placeholder{color:#999}.mnemonic .gray_content input[data-v-3c7af158]::-ms-input-placeholder{color:#999}.mnemonic .gray_content input[data-v-3c7af158]::placeholder{color:#999}.bottom_button[data-v-3c7af158]{width:6.8rem;position:relative;top:.1rem}.bottom_button span[data-v-3c7af158]{width:2rem;height:.6rem;border-radius:.3rem;border:.01rem solid #20b5ac;display:inline-block;line-height:.6rem;font-size:.16rem;font-weight:400;color:#20b5ac;text-align:center;cursor:pointer;position:relative;bottom:.2rem}.bottom_button .import[data-v-3c7af158]{background:#20b5ac;color:#fff}",""])},eae9:function(t,e,o){var a=o("deeb");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=o("499e").default;n("37088031",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=chunk-9898b288.c1c56ff6.js.map